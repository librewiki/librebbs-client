{"version":3,"sources":["webpack:///./src/views/TopicList.vue?f363","webpack:///./src/components/NewTopic.vue?8e2d","webpack:///./src/views/TopicList.vue","webpack:///./src/components/NewTopic.vue","webpack:///./src/components/NewTopic.vue?4afd","webpack:///./src/components/NewTopic.vue?bfc6","webpack:///./src/components/NewTopic.vue?191f","webpack:///./src/views/TopicList.vue?6e60","webpack:///./src/views/TopicList.vue?c708","webpack:///./src/views/TopicList.vue?4eb0"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","_l","topics","topic","attrs","board","name","id","encodeURIComponent","author_name","on","$event","stopPropagation","_v","_s","updatedAtString","decodeTitle","title","comment_count","_e","isUpdated","is_closed","is_suspended","is_pinned","infiniteId","handleInfinite","slot","staticRenderFns","class","editorOpen","modalclose","directives","rawName","value","expression","domProps","target","composing","ref","editorOptions","user","isLoggedIn","handleSubmit","NewTopic","Vue","constructor","args","_defineProperty","usageStatistics","initialEditType","hideModeSwitch","language","store","state","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","split","onerror","error","mounted","$refs","toastuiEditor","invoke","async","callback","size","commit","path","postFile","markdown","postTopic","$router","push","editor","open","__decorate","Component","components","Editor","component","TopicListPage","Date","x","decode","resetInfinite","$state","limit","getTopics","length","complete","loaded","DateTime","fromISO","updated_at","toRelative","lastVisited","item","localStorage","getItem","is_active","isBlocked","checkCanWrite","tp","is_hidden","Watch","InfiniteLoading","Gravatar","metaInfo","display_name"],"mappings":"uIAAA,W,oCCAA,W,gECAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,KAAKF,EAAIM,GAAIN,EAAIO,QAAQ,SAASC,GAAO,OAAON,EAAG,KAAK,CAACA,EAAG,cAAc,CAACO,MAAM,CAAC,GAAK,IAAIT,EAAIU,MAAMC,QAAQH,EAAMI,OAAO,CAACV,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,OAAO,CAACG,YAAY,gBAAgB,CAACH,EAAG,IAAI,CAACO,MAAM,CAAC,KAAO,8BAA8BI,mBAAmB,OAASL,EAAMM,cAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,qBAAsB,CAACjB,EAAIkB,GAAGlB,EAAImB,GAAGX,EAAMM,gBAAgBZ,EAAG,OAAO,CAACG,YAAY,qBAAqB,CAACL,EAAIkB,GAAG,KAAKhB,EAAG,IAAI,CAACO,MAAM,CAAC,KAAO,8BAA8BI,mBAAmB,SAAWL,EAAMM,cAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,qBAAsB,CAACjB,EAAIkB,GAAG,QAAQlB,EAAIkB,GAAG,KAAKhB,EAAG,IAAI,CAACO,MAAM,CAAC,KAAO,8BAA8BI,mBAAmB,SAAWL,EAAMM,cAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOC,qBAAsB,CAACjB,EAAIkB,GAAG,QAAQlB,EAAIkB,GAAG,WAAWhB,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAO,CAACG,YAAY,mBAAmBI,MAAM,CAAC,GAAK,IAAIT,EAAIU,MAAMC,QAAQH,EAAMI,OAAO,CAACZ,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIoB,gBAAgBZ,WAAeN,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,OAAO,CAACG,YAAY,eAAe,CAACL,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIqB,YAAYb,EAAMc,WAAYd,EAAMe,cAAgB,EAAGrB,EAAG,OAAO,CAACG,YAAY,uBAAuB,CAACL,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGX,EAAMe,eAAe,OAAOvB,EAAIwB,OAAOtB,EAAG,MAAM,CAACG,YAAY,eAAe,CAAEL,EAAIyB,UAAUjB,GAAQN,EAAG,YAAY,CAACG,YAAY,kBAAkBI,MAAM,CAAC,MAAQ,kBAAkB,CAACP,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,kBAAkB,GAAGT,EAAIwB,KAAMhB,EAAMkB,UAAWxB,EAAG,YAAY,CAACG,YAAY,iBAAiBI,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,WAAW,GAAID,EAAMmB,aAAczB,EAAG,YAAY,CAACG,YAAY,iBAAiBI,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,WAAW,GAAGT,EAAIwB,KAAMhB,EAAMoB,UAAW1B,EAAG,YAAY,CAACG,YAAY,iBAAiBI,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAG,SAAS,CAACO,MAAM,CAAC,KAAO,gBAAgB,GAAGT,EAAIwB,MAAM,UAAU,MAAK,GAAGtB,EAAG,mBAAmB,CAACO,MAAM,CAAC,QAAU,WAAW,WAAaT,EAAI6B,YAAYd,GAAG,CAAC,SAAWf,EAAI8B,iBAAiB,CAAC5B,EAAG,MAAM,CAACO,MAAM,CAAC,KAAO,WAAWsB,KAAK,YAAY7B,EAAG,MAAM,CAACO,MAAM,CAAC,KAAO,cAAcsB,KAAK,iBAAiB7B,EAAG,MAAMA,EAAG,cAAc,IAE/3E8B,EAAkB,G,sGCFlBjC,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,QAAQ4B,MAAM,CAAE,YAAajC,EAAIkC,aAAc,CAAChC,EAAG,MAAM,CAACG,YAAY,qBAAqBH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,QAAQ,CAACG,YAAY,oBAAoB,CAACL,EAAIkB,GAAG,UAAUhB,EAAG,SAAS,CAACG,YAAY,SAASU,GAAG,CAAC,MAAQf,EAAImC,gBAAgBjC,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,QAAQ,CAACkC,WAAW,CAAC,CAACzB,KAAK,QAAQ0B,QAAQ,UAAUC,MAAOtC,EAAIsB,MAAOiB,WAAW,UAAUlC,YAAY,QAAQI,MAAM,CAAC,KAAO,OAAO,YAAc,MAAM+B,SAAS,CAAC,MAASxC,EAAIsB,OAAQP,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOyB,OAAOC,YAAiB1C,EAAIsB,MAAMN,EAAOyB,OAAOH,eAAcpC,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,SAAS,CAACyC,IAAI,gBAAgBlC,MAAM,CAAC,QAAUT,EAAI4C,cAAc,gBAAkB,cAAc,OAAO1C,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,SAAS,CAAGL,EAAI6C,KAAKC,WAAyE9C,EAAIwB,KAAjEtB,EAAG,OAAO,CAACF,EAAIkB,GAAG,2CAAoDhB,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,SAAS,CAACG,YAAY,iBAAiBU,GAAG,CAAC,MAAQf,EAAI+C,eAAe,CAAC/C,EAAIkB,GAAG,mBAEjvCc,EAAkB,G,gDCYtB,IAAqBgB,EAArB,cAAsCC,OAAGC,eAAAC,GAAA,SAAAA,GAAAC,eAAA,aAC/B,IAAEA,eAAA,qBACM,CACdC,iBAAiB,EACjBC,gBAAiB,UACjBC,gBAAgB,EAChBC,SAAU,UACXJ,eAAA,qBAKD,YACE,OAAOK,OAAMC,MAAMhD,MAGrB,WACE,OAAO+C,OAAMC,MAAMb,KAGrBc,SAASC,GACP,OAAO,IAAIC,QAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcN,GACrBI,EAAOG,OAAS,IAAML,EAASE,EAAOI,OAAkBC,MAAM,KAAK,IACnEL,EAAOM,QAAWC,GAAUR,EAAOQ,KAIvCC,UAEEvE,KAAKwE,MAAMC,cAAcC,OACvB,UACA,mBACAC,MAAOhB,EAAYiB,KACjB,GAAIjB,EAAKkB,KAAO,IACdrB,OAAMsB,OACJ,gBACA,kCAGG,CACL,MAAM,KAAEC,SAAeC,eAASrB,EAAKjD,WAAYV,KAAK0D,SAASC,IAC/DiB,EAAS,+BAA+BG,MAMhD,qBACE,MAAME,EAAWjF,KAAKwE,MAAMC,cAAcC,OAAO,eAC3CnE,QAAc2E,eAAUlF,KAAKS,MAAME,GAAIX,KAAKqB,MAAO4D,GACzDjF,KAAKmF,QAAQC,KAAK,IAAIpF,KAAKS,MAAMC,QAAQH,EAAMI,MAC/CX,KAAKkC,aAGP,iBACE,OAAOsB,OAAMC,MAAM4B,OAAOC,KAG5BpD,aACEsB,OAAMsB,OAAO,iBAAiB,KA7Db/B,EAAQwC,eAAA,CAL5BC,eAAU,CACTC,WAAY,CACVC,uBAGiB3C,WCd6W,I,wBCQ9X4C,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,gCCKf,IAAqBC,EAArB,cAA2C5C,OAAGC,eAAAC,GAAA,SAAAA,GAAAC,eAAA,cAC1B,IAAEA,eAAA,aACb,GAAKA,eAAA,mBACE,IAAI0C,MAElB,YACE,OAAOrC,OAAMC,MAAMhD,MAGrBW,YAAY0E,GACV,OAAOC,eAAOD,GAIhBE,gBACEhG,KAAK4B,YAAc,IAAIiE,KACvB7F,KAAKM,OAAS,GAGhB,qBAAqB2F,GACnB,MAAMC,EAAQ,GACR5F,QAAe6F,eAAUnG,KAAKS,MAAME,GAAIX,KAAKM,OAAO8F,OAAQF,GAE9D5F,EAAO8F,QACTpG,KAAKM,OAAO8E,QAAQ9E,GAElBA,EAAO8F,OAASF,EAClBD,EAAOI,WAEPJ,EAAOK,SAIXnF,gBAAgBZ,GACd,OAAUgG,cAASC,QAAQjG,EAAMkG,YAAYC,aAAtC,UAGTlF,UAAUjB,GACR,MAAMoG,EAAc3G,KAAK2G,YAAYpG,EAAMI,IAC3C,QAASgG,GAAeJ,cAASC,QAAQjG,EAAMkG,YAAcE,EAG/DA,YAAYhG,GACV,MAAMiG,EAAOC,aAAaC,QAAQ,sBAAsBnG,GAExD,OAAIiG,EACKL,cAASC,QAAQI,GAEjB,KAIXrC,UAEmC,GAA/Bf,OAAMC,MAAMhD,MAAMsG,WACY,GAA9BvD,OAAMC,MAAMb,KAAKoE,WAEjBxD,OAAMsB,OAAO,eAAe,GAIhCmC,cAAcC,GACZ,OACkB,GAAhBA,EAAGzF,WACgB,GAAnByF,EAAGxF,cACa,GAAhBwF,EAAGC,WAC2B,GAA9B3D,OAAMC,MAAMb,KAAKoE,YApDrBzB,eAAA,CADC6B,eAAM,kB,kCAbYxB,EAAaL,eAAA,CAZjCC,eAAU,CACTC,WAAY,CACV1C,WACAsE,oBACAC,cAEFC,WACE,MAAO,CACLlG,MAAQrB,KAAuBS,MAAM+G,kBAItB5B,WCxB8W,ICQ/X,G,UAAY,eACd,EACA9F,EACAiC,GACA,EACA,KACA,KACA,OAIa,e","file":"js/topic_list.50f2a35e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopicList.vue?vue&type=style&index=0&id=50ff8da9&prod&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewTopic.vue?vue&type=style&index=0&id=b9b36330&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"page-topic-list\"},[_c('ul',_vm._l((_vm.topics),function(topic){return _c('li',[_c('router-link',{attrs:{\"to\":`/${_vm.board.name}/${topic.id}`}},[_c('div',{staticClass:\"card topic-card\"},[_c('div',{staticClass:\"topic-card-header\"},[_c('div',{staticClass:\"topic-author-area\"},[_c('span',{staticClass:\"topic-author\"},[_c('a',{attrs:{\"href\":`https://librewiki.net/wiki/${encodeURIComponent('사용자:' + topic.author_name)}`},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(_vm._s(topic.author_name))]),_c('span',{staticClass:\"topic-author-link\"},[_vm._v(\"(\"),_c('a',{attrs:{\"href\":`https://librewiki.net/wiki/${encodeURIComponent('사용자토론:' + topic.author_name)}`},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"토론\")]),_vm._v(\"|\"),_c('a',{attrs:{\"href\":`https://librewiki.net/wiki/${encodeURIComponent('특수:기여/' + topic.author_name)}`},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"기여\")]),_vm._v(\")\")])])]),_c('div',{staticClass:\"topic-info-area\"},[_c('span',{staticClass:\"topic-updated_at\",attrs:{\"to\":`/${_vm.board.name}/${topic.id}`}},[_vm._v(_vm._s(_vm.updatedAtString(topic)))])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"topic-title-area\"},[_c('span',{staticClass:\"topic-title\"},[_vm._v(_vm._s(_vm.decodeTitle(topic.title)))]),(topic.comment_count > 1)?_c('span',{staticClass:\"topic-comment-count\"},[_vm._v(\"[\"+_vm._s(topic.comment_count)+\"]\")]):_vm._e()]),_c('div',{staticClass:\"topic-icons\"},[(_vm.isUpdated(topic))?_c('b-tooltip',{staticClass:\"topic-isupdated\",attrs:{\"label\":\"마지막 방문 이후에 바뀜\"}},[_c('b-icon',{attrs:{\"icon\":\"exclamation\"}})],1):_vm._e(),(topic.is_closed)?_c('b-tooltip',{staticClass:\"topic-islocked\",attrs:{\"label\":\"종료됨\"}},[_c('b-icon',{attrs:{\"icon\":\"lock\"}})],1):(topic.is_suspended)?_c('b-tooltip',{staticClass:\"topic-islocked\",attrs:{\"label\":\"중단됨\"}},[_c('b-icon',{attrs:{\"icon\":\"lock\"}})],1):_vm._e(),(topic.is_pinned)?_c('b-tooltip',{staticClass:\"topic-ispinned\",attrs:{\"label\":\"상단 고정됨\"}},[_c('b-icon',{attrs:{\"icon\":\"thumbtack\"}})],1):_vm._e()],1)])])])],1)}),0),_c('infinite-loading',{attrs:{\"spinner\":\"waveDots\",\"identifier\":_vm.infiniteId},on:{\"infinite\":_vm.handleInfinite}},[_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})]),_c('hr'),_c('new-topic')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"modal\",class:{ 'is-active': _vm.editorOpen }},[_c('div',{staticClass:\"modal-background\"}),_c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('label',{staticClass:\"modal-card-title\"},[_vm._v(\"새 주제\")]),_c('button',{staticClass:\"delete\",on:{\"click\":_vm.modalclose}})]),_c('div',{staticClass:\"modal-card-body\"},[_c('div',{staticClass:\"new-topic\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"제목\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.title=$event.target.value}}})])]),_c('div',{staticClass:\"field\"},[_c('editor',{ref:\"toastuiEditor\",attrs:{\"options\":_vm.editorOptions,\"initialEditType\":\"wysiwyg\"}})],1)])]),_c('div',{staticClass:\"modal-card-foot\"},[_c('div',{staticClass:\"field\"},[(!_vm.user.isLoggedIn)?_c('span',[_vm._v(\"⚠️현재 로그인되어 있지 않습니다. 글 작성 시 IP가 노출됩니다.\")]):_vm._e(),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-link\",on:{\"click\":_vm.handleSubmit}},[_vm._v(\"작성\")])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { postFile, postTopic } from \"@/api\";\nimport type { Board } from \"@/api\";\nimport \"@toast-ui/editor/dist/toastui-editor.css\";\nimport { Editor } from \"@toast-ui/vue-editor\";\nimport \"@toast-ui/editor/dist/i18n/ko-kr\";\nimport store from \"@/store\";\n\n@Component({\n  components: {\n    Editor,\n  },\n})\nexport default class NewTopic extends Vue {\n  title = \"\";\n  editorOptions = {\n    usageStatistics: false,\n    initialEditType: \"wysiwyg\",\n    hideModeSwitch: true,\n    language: \"ko-KR\",\n  };\n  $refs!: {\n    toastuiEditor: Editor;\n  };\n\n  get board(): Board {\n    return store.state.board;\n  }\n\n  get user(): typeof store.state.user {\n    return store.state.user;\n  }\n\n  toBase64(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve((reader.result as string).split(\",\")[1]);\n      reader.onerror = (error) => reject(error);\n    });\n  }\n\n  mounted(): void {\n    type Callback = (url: string, text?: string) => void;\n    this.$refs.toastuiEditor.invoke(\n      \"addHook\",\n      \"addImageBlobHook\",\n      async (file: File, callback: Callback): Promise<void> => {\n        if (file.size > 10 * 1000000) {\n          store.commit(\n            \"setErrormodal\",\n            \"업로드할 파일 용량은 10MB까지만 가능합니다.\"\n          );\n          return;\n        } else {\n          const { path } = await postFile(file.name, await this.toBase64(file));\n          callback(`https://image.librewiki.net/${path}`);\n        }\n      }\n    );\n  }\n\n  async handleSubmit(): Promise<void> {\n    const markdown = this.$refs.toastuiEditor.invoke(\"getMarkdown\");\n    const topic = await postTopic(this.board.id, this.title, markdown);\n    this.$router.push(`/${this.board.name}/${topic.id}`);\n    this.modalclose();\n  }\n\n  get editorOpen(): boolean {\n    return store.state.editor.open;\n  }\n\n  modalclose(): void {\n    store.commit(\"setEditorOpen\", false);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewTopic.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewTopic.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./NewTopic.vue?vue&type=template&id=b9b36330&lang=pug\"\nimport script from \"./NewTopic.vue?vue&type=script&lang=ts\"\nexport * from \"./NewTopic.vue?vue&type=script&lang=ts\"\nimport style0 from \"./NewTopic.vue?vue&type=style&index=0&id=b9b36330&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport Gravatar from \"vue-gravatar\";\nimport InfiniteLoading, { StateChanger } from \"vue-infinite-loading\";\nimport { getTopics } from \"@/api\";\nimport type { Topic, Board } from \"@/api\";\nimport NewTopic from \"@/components/NewTopic.vue\";\nimport store from \"@/store\";\nimport { decode } from \"html-entities\";\nimport type { MetaInfo } from \"vue-meta\";\nimport { DateTime } from \"luxon\";\n\n@Component({\n  components: {\n    NewTopic,\n    InfiniteLoading,\n    Gravatar,\n  },\n  metaInfo(): MetaInfo {\n    return {\n      title: (this as TopicListPage).board.display_name,\n    };\n  },\n})\nexport default class TopicListPage extends Vue {\n  topics: Topic[] = [];\n  busy = false;\n  infiniteId = +new Date();\n\n  get board(): Board {\n    return store.state.board;\n  }\n\n  decodeTitle(x: string): string {\n    return decode(x);\n  }\n\n  @Watch(\"$route.params\")\n  resetInfinite(): void {\n    this.infiniteId = +new Date();\n    this.topics = [];\n  }\n\n  async handleInfinite($state: StateChanger): Promise<void> {\n    const limit = 10;\n    const topics = await getTopics(this.board.id, this.topics.length, limit);\n\n    if (topics.length) {\n      this.topics.push(...topics);\n    }\n    if (topics.length < limit) {\n      $state.complete();\n    } else {\n      $state.loaded();\n    }\n  }\n\n  updatedAtString(topic: Topic): string {\n    return `${DateTime.fromISO(topic.updated_at).toRelative()}에 업데이트됨`;\n  }\n\n  isUpdated(topic: Topic): boolean {\n    const lastVisited = this.lastVisited(topic.id);\n    return !!lastVisited && DateTime.fromISO(topic.updated_at) > lastVisited;\n  }\n\n  lastVisited(id: number): DateTime | null {\n    const item = localStorage.getItem(`topic-last-visited.${id}`);\n\n    if (item) {\n      return DateTime.fromISO(item);\n    } else {\n      return null;\n    }\n  }\n\n  mounted(): void {\n    if (\n      store.state.board.is_active == true &&\n      store.state.user.isBlocked == false\n    ) {\n      store.commit(\"setCanWrite\", true);\n    }\n  }\n\n  checkCanWrite(tp: Topic): boolean {\n    if (\n      tp.is_closed == true ||\n      tp.is_suspended == true ||\n      tp.is_hidden == true ||\n      store.state.user.isBlocked == true\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopicList.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopicList.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./TopicList.vue?vue&type=template&id=50ff8da9&lang=pug\"\nimport script from \"./TopicList.vue?vue&type=script&lang=ts\"\nexport * from \"./TopicList.vue?vue&type=script&lang=ts\"\nimport style0 from \"./TopicList.vue?vue&type=style&index=0&id=50ff8da9&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}